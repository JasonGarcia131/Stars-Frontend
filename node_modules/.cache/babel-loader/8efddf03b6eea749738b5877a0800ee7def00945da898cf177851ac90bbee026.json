{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\13233\\\\Desktop\\\\portfolio\\\\stars-frontend\\\\src\\\\pages\\\\profile\\\\Banner.js\",\n  _s = $RefreshSig$();\nimport \"../profileCSS/banner.css\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"../../api/axios\";\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Banner(props) {\n  _s();\n  const axiosPrivate = useAxiosPrivate();\n  const {\n    theme,\n    userInfo\n  } = props;\n  const [message, setMessage] = useState(\"\");\n  const [uploadBtn, setUploadBtn] = useState(false);\n  const [bannerImage, setBannerImage] = useState({\n    theme: theme,\n    image: \"\"\n  });\n  const bannerImageLight = userInfo.bannerImageLight;\n  const bannerImageShadow = userInfo.bannerImageShadow;\n  console.log(\"theme\", theme);\n  useEffect(() => {\n    setBannerImage(prevData => ({\n      ...prevData,\n      theme: theme\n    }));\n  }, [theme]);\n\n  //Sets the background image for the banner component.\n  const style = theme === \"light\" ? `url(${bannerImageLight})` : `url(${bannerImageShadow})`;\n\n  //Update banner image\n  const handlebannerImage = async e => {\n    e.preventDefault();\n    setUploadBtn(true);\n    const file = e.target.files[0];\n    if (file && file.type.substring(0, 5) === 'image') {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onloadend = () => {\n        setBannerImage(prevData => ({\n          ...prevData,\n          image: reader.result\n        }));\n      };\n    }\n  };\n  const changeBannerImage = async () => {\n    console.log(\"banner image\", bannerImage.image);\n    const response = await axiosPrivate.put(`/users/${userInfo.id}`, bannerImage);\n    if (response.status === 200) {\n      window.location.reload();\n    } else {\n      setMessage(\"Could not upload image!\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    id: \"banner\",\n    style: {\n      backgroundImage: style\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"editBanner\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"editBannerPicture\",\n        className: \"inputFile\",\n        children: \"Edit Banner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), uploadBtn ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => changeBannerImage(),\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 30\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"editBannerPicture\",\n        accept: \"/image/*\",\n        style: {\n          display: \"none\"\n        },\n        onChange: e => handlebannerImage(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_s(Banner, \"9M4+CrYg7y8OtSOYSwd+JfIsnrM=\", false, function () {\n  return [useAxiosPrivate];\n});\n_c = Banner;\nexport default Banner;\nvar _c;\n$RefreshReg$(_c, \"Banner\");","map":{"version":3,"names":["React","useEffect","useState","axios","useAxiosPrivate","Banner","props","axiosPrivate","theme","userInfo","message","setMessage","uploadBtn","setUploadBtn","bannerImage","setBannerImage","image","bannerImageLight","bannerImageShadow","console","log","prevData","style","handlebannerImage","e","preventDefault","file","target","files","type","substring","reader","FileReader","readAsDataURL","onloadend","result","changeBannerImage","response","put","id","status","window","location","reload","backgroundImage","display"],"sources":["C:/Users/13233/Desktop/portfolio/stars-frontend/src/pages/profile/Banner.js"],"sourcesContent":["import \"../profileCSS/banner.css\";\r\nimport React, {useEffect, useState } from \"react\";\r\nimport axios from \"../../api/axios\";\r\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate\";\r\n\r\nfunction Banner(props) {\r\n\r\n    const axiosPrivate = useAxiosPrivate();\r\n\r\n    const { theme, userInfo } = props;\r\n\r\n    const [message, setMessage] = useState(\"\");\r\n    const [uploadBtn, setUploadBtn] = useState(false);\r\n    const [bannerImage, setBannerImage] = useState({\r\n        theme: theme,\r\n        image: \"\"\r\n    });\r\n\r\n    const bannerImageLight = userInfo.bannerImageLight;\r\n    const bannerImageShadow = userInfo.bannerImageShadow;\r\n    console.log(\"theme\", theme)\r\n\r\n    useEffect(()=>{\r\n        setBannerImage((prevData)=>({...prevData, theme: theme}))\r\n    },[theme]);\r\n\r\n    //Sets the background image for the banner component.\r\n    const style = theme === \"light\" ? `url(${bannerImageLight})` : `url(${bannerImageShadow})`;\r\n\r\n    //Update banner image\r\n    const handlebannerImage = async (e) => {\r\n        e.preventDefault();\r\n        setUploadBtn(true);\r\n        const file = e.target.files[0];\r\n        if (file && file.type.substring(0, 5) === 'image') {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onloadend = () => {\r\n                setBannerImage((prevData) => ({...prevData, image: reader.result }));\r\n            }\r\n        }\r\n    }\r\n\r\n    const changeBannerImage = async () => {\r\n        console.log(\"banner image\", bannerImage.image)\r\n        const response = await axiosPrivate.put(`/users/${userInfo.id}`, bannerImage);\r\n        if (response.status === 200) {\r\n            window.location.reload();\r\n        } else {\r\n            setMessage(\"Could not upload image!\");\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <header id=\"banner\" style={{ backgroundImage: style }}>\r\n            <div id=\"editBanner\">\r\n                <label htmlFor=\"editBannerPicture\" className=\"inputFile\">Edit Banner</label>\r\n                {uploadBtn ? <button onClick={() => changeBannerImage()}>Upload</button> : \"\"}\r\n                <p>{message}</p>\r\n                <input\r\n                    type=\"file\"\r\n                    id=\"editBannerPicture\"\r\n                    accept=\"/image/*\"\r\n                    style={{ display: \"none\" }}\r\n                    onChange={(e) => handlebannerImage(e)}\r\n                />\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Banner"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}